<!DOCTYPE html>
<html>
	<head>
	<title>我的个人简历</title>
		<link rel="stylesheet" href="./a.css">
		<link rel="stylesheet" href="./loading.css">
		<script src="//at.alicdn.com/t/font_461366_hrpkdr8q7k384cxr.js"></script>
		<style type="text/css">
		
			.icon {
			   width: 1em; height: 1em;
			   vertical-align: -0.15em;
			   fill: currentColor;
			   overflow: hidden;
			}
			.site-welcome {
				display: none;
				position: fixed;
				top:0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 1;
				background: #888;
				justify-content: center;
				align-items: center;
			}
			.site-welcome.active {
				display:flex;
			}
		</style>
	</head>
	<body>
		<div id ="siteWelcome" class="site-welcome active">
				<div class="loading"></div>
		</div>
			
		<div id="topNavBar" class="topNavBar">
			<div class="topNavBar-inner clearfix">
					<a class="logo"href="#" alt="logo" style="float:left;">
							<span class="rs">RS</span><span class="card">card</span>
						</a>
					<nav  class = "menu" style="float:right;">
						<ul class="clearfix">
							<li ><a href="#siteAbout">关于</a></li>
							<li ><a href="#siteSkills">技能</a></li>
							<li>
									<!-- <li class="menuTigger"> -->
								<a  href="#siteWorks">作品</a>
								<ul class="submenu">
									<li>作品1</li>
									<li>作品2</li>
									<li>作品3</li>
								</ul>
							</li>
							<li>
									<!-- <li class="menuTigger"> -->
								<a  href="#">博客</a>
								<ul class="submenu">
										<li>博客1</li>
										<li>博客2</li>
										<li>博客3</li>
									</ul>
							</li>
							<li ><a href="#">日历</a></li>
							<li ><a href="#">联系方式</a></li>
							<li ><a href="#">其他</a></li>
						</ul>
					</nav>
			</div>
		</div>
<div class="banner">
	<div class="mask">

	</div>
</div>
<main >
	<div id="siteAbout" class="userCard">
			<div class="pictureAndText clearfix">	
					<div class="picture">
							<img src="./img/avatar.jpg" width=299 height=347 alt="头像">
					</div>	
				<div class="text">
					<span class="welcome">HELLO
						<span class="triangle">

						</span>
					</span>
				<h1>陶思亮</h1>
				<p>前端开发工程师</p>
				<hr>
				<dl>
					<dt>年龄</dt>
					<dd>18</dd>
					<dt>所在城市</dt>
					<dd>武汉</dd>
					<dt>邮箱</dt>
					<dd>taosiliang1127tsl@163.com</dd>
					<dt>手机</dt>
					<dd>132xxxx4080</dd>
					<dt>到岗时间</dt>
					<dd>2018</dd>
				</dl>
		</div>
		</div>
	<footer class="media">
		<a href="#">
			<svg class="icon" aria-hidden="true">
				<use xlink:href="#icon-jianshu"></use>
			</svg>
		</a>
		<a href="#">
				<svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-QQ"></use>
					</svg>
		</a>
		<a href="#">
				<svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-weixin2"></use>
					</svg>	
		</a>
		<a href="#">
				<svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-weibo"></use>
					</svg>	
		</a>
		<a href="#">
				<svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-github"></use>
					</svg>	
		</a>
	</footer>
</div>
<p class="downloadResume-wrapper">
	<a class="downloadResume" href="./resume.pdf" target="_black" download>下载PDF简历</a>
</p>

<p class="selfIntroduction">
	陶思亮：前端开发工程师<br>
	技能：前端开发，Node.js开发
</p>
</main>
<section id="siteSkills" class="skills">
	<h2>
		技能	
	</h2>	
	<ol class="clearfix">
		<li>
			<!-- <div style="padding-right:10px">			方法一 -->
			<h3>
					HTML5 &amp; CSS3
			</h3>
			<div class="progressBar">
				<div class="progress" style="width:20%">

				</div>		
			</div>
		<!-- </div> -->
		</li>

		<li>
				<h3>
						JavaScript
				</h3>
				<div class="progressBar">
					<div class="progress"style="width:30%">
	
					</div>
				</div>
				
			</li>

			<li>
					<h3>
							jQuery
					</h3>
					<div class="progressBar">
						<div class="progress"style="width:40%">
		
						</div>
					</div>
					
				</li>
				
				<li>
						<h3>
								Vue
						</h3>
						<div class="progressBar">
							<div class="progress"style="width:50%">
			
							</div>
						</div>
						
					</li>

					<li>
							<h3>
									React
							</h3>
							<div class="progressBar">
								<div class="progress" style="width:60%">
				
								</div>
							</div>
							
						</li>


						<li>
								<h3>
										HTTP
								</h3>
								<div class="progressBar">
									<div class="progress" style="width:70%">
					
									</div>
								</div>
								
							</li>						
	</ol>
</section>
<section class="portfolio"  id="siteWorks"  >
	<h2>作品集</h2>
	<nav>
		<ol class="clearfix">
			<li id="portfolioAll">所有</li>
			<li id="portfolioFramework">框架</li>
			<li id="portfolioVallina">原生JS &amp; CSS</li>
		</ol>
		<div id="portfolio" class="bar state-1">  
			<div class="bar-inner">

			</div>
		</div>
	</nav>
	<script>
		portfolioAll.onclick=function(){
			portfolio.className='bar state-1'
		}
		
		portfolioFramework.onclick=function(){
			portfolio.className='bar state-2'
		}

		portfolioVallina.onclick=function(){
			portfolio.className='bar state-3'
		}

	</script>

	<div class="works">
		<div class="big" style="top:0px;left:0px">
			<img src="./img/1.jpg" alt="作品1">
		</div>
		<div class="small" style="top:0px;left:645px">
			<img src="./img/2.jpg" alt="作品2">
		</div>
		<div class="small" style="top:312px;left:645px">
			<img src="./img/3.jpg" alt="作品3">
			</div>		
	</div>
</section>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
<script>  //前面的就是加载完了，把active类给删掉
	setTimeout(function(){
		siteWelcome.classList.remove('active')
	},3000)
	
	window.onscroll = function(){
		if(window.scrollY >0){
			topNavBar.classList.add('sticky')
		}else{
			topNavBar.classList.remove('sticky')
		}
	}

	// let liTags = document.getElementsByClassName('menuTigger')
	let liTags = document.querySelectorAll('nav.menu >ul >li')
	for (let i = 0 ;i<liTags.length;i++){
		liTags[i].onmouseenter = function(x){
			// let li = 
			x.currentTarget.classList.add('active')
			// let brother = li.getElementsByTagName('ul')[0]
			// // while(brother.nodeType === Node.TEXT_NODE){  /*或者写成brother.tagName !== 'UL'*/
			// // 	brother = brother.nextSibling
			// // }
			// brother.classList.add('active')
			// console.log('brother')
		}
		liTags[i].onmouseleave = function(x){
			// let li = 
			x.currentTarget.classList.remove('active')
			// let brother = li.getElementsByTagName('ul')[0]
			// // while(brother.nodeType === Node.TEXT_NODE){  /*或者写成brother.tagName !== 'UL'*/
			// // 	brother = brother.nextSibling
			// // }
			// brother.classList.remove('active')
			// console.log('mouseleave')
		}
	}

let aTags = document.querySelectorAll('nav.menu >ul >li >a')

//调用了tween库，用缓动函数，实现缓动

function animate(time) {
    requestAnimationFrame(animate);
    TWEEN.update(time);
}
requestAnimationFrame(animate);

for(let i=0;i<aTags.length;i++){
	aTags[i].onclick = function(x){
		x.preventDefault()   //
		// let a = x.currentTarget
		// let href = a.getAttribute('href')  //'#siteAbout'
		// let element = document.querySelector(href)
		// let top = element.offsetTop
		let top = document.querySelector(x.currentTarget.getAttribute('href')).offsetTop
		//等于上面4句
		let currentTop = window.scrollY
		let targetTop =  top-80
		let s = targetTop - currentTop
		var coords = { y: currentTop }; 
		var t = Math.abs((s/100)*300)  //求绝对值

		if(t>500){
			t=500
		}
		var tween = new TWEEN.Tween(coords) 
        .to({ y: targetTop }, t) 
        .easing(TWEEN.Easing.Quadratic.InOut) //
        .onUpdate(function() {
          window.scrollTo(0,coords.y)
        })
        .start(); 
	}
}
</script>
	</body>
</html>
